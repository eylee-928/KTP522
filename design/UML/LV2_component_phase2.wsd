@startuml lv2_component

node Client{
    
    component TaleRepository
    component TaleApiService
    component TTSApiService

    component TaleListViewModel
    component TaleDetailViewModel


    component TaleListView
    component TaleDetailView

    component ClientDB
}



node Server {
    component Router
    component TaleController
    component TaleAIController
    component TaleModel
    component TaleLogModel
    component ServerDB
}

node TTS3rdParty {
    component TTSCloudService
}

node ChatGPT3rfParty {
    component ChatGPTAPIService
}

interface TaleListInterface
interface TaleDetailInterface
interface TTSInterface


Router ..> TaleController
TaleController ..> TaleModel
TaleModel ..> ServerDB

Router ..> TaleAIController
TaleAIController ..> TaleLogModel
TaleLogModel ..> ServerDB

TaleAIController --> ChatGPTInterface : requires
ChatGPTInterface ..> ChatGPTAPIService : provided

TaleRepository ..> ClientDB
TaleRepository ..> TaleApiService
TaleDetailViewModel ..> TTSApiService

TaleListViewModel ..> TaleRepository
TaleDetailViewModel ..> TaleRepository

TaleListViewModel ..> TaleListView
TaleDetailViewModel ..> TaleDetailView


TTSInterface ..> TTSCloudService : provided
TTSApiService --> TTSInterface : requires

TaleListInterface ..> Router : provided
TaleDetailInterface ..> Router : provided
TaleApiService --> TaleListInterface : requires
TaleApiService --> TaleDetailInterface : requires



@enduml


